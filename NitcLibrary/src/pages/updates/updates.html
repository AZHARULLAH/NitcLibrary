<!--
  Generated template for the Updates page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
	<ion-navbar no-border-bottom>
		<ion-title>
			Updates
		</ion-title>
	</ion-navbar>

	<ion-toolbar no-border-top>
		<ion-segment [(ngModel)]="type">
			<ion-segment-button value="news">
				News
			</ion-segment-button>
			<ion-segment-button value="books">
				Books/Journals
			</ion-segment-button>
		</ion-segment>
	</ion-toolbar>
</ion-header>

<ion-content padding>

	<ion-refresher (ionRefresh)="doRefresh($event)">
        <ion-refresher-content pullingIcon="arrow-dropdown" pullingText="Pull to refresh" refreshingSpinner="circles" refreshingText="Refreshing...">
        </ion-refresher-content>
    </ion-refresher>

	<div [ngSwitch]="type">
		<ion-list *ngSwitchCase="'news'">
			<h5>(Pull to refresh)</h5>
			<ion-card *ngFor="let news of newsList">
				<ion-card-content>
					<h2 style="font-weight: bold; color: blue; font-size: 17px !important; margin-bottom: 10px;"> {{ news.title }} </h2>
					<p> Time: &nbsp;&nbsp; <span style="font-weight: bold; font-size: 13px; color: green"> {{ news.datentime }} </span></p>
					<button style="margin-top: -40px; float: right;" ion-button clear item-right color="primary" round (click)="showItem(news)">View</button>
				</ion-card-content>
			</ion-card>
		</ion-list>

		<ion-list *ngSwitchCase="'books'">
			<h5>(Pull to refresh)</h5>
			<ion-card *ngFor="let book of booksList">
				<ion-card-content>
					<h2 style="font-weight: bold; color: blue; font-size: 17px !important; margin-bottom: 10px;"> {{ book.title }} </h2>
					<p> Author: &nbsp;&nbsp; <span style="font-weight: bold; font-size: 15px; color: green"> {{ book.author }} </span></p>
					<p> Department: &nbsp;&nbsp; <span style="font-weight: bold; font-size: 14px; color: green"> {{ expand(book.department) }} </span></p>
					<p> Rack number: &nbsp;&nbsp; <span style="font-weight: bold; font-size: 13px; color: green"> {{ book.rackno }} </span></p>
				</ion-card-content>
			</ion-card>
		</ion-list>

	</div>
</ion-content>